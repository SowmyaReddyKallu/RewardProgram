{"ast":null,"code":"import _slicedToArray from \"/Users/sowmyareddykallu/Downloads/reward-points-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/sowmyareddykallu/Downloads/reward-points-master/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport fetch from './api/dataService';\nimport ReactTable from 'react-table';\nimport \"./App.css\";\nimport _ from 'lodash';\nimport 'react-table/react-table.css';\nimport calculateResults from './calculateResults';\n\nfunction App() {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        transactionData = _useState2[0],\n        setTransactionData = _useState2[1];\n\n  const columns = [{\n    Header: 'Customer',\n    accessor: 'name'\n  }, {\n    Header: 'Month',\n    accessor: 'month'\n  }, {\n    Header: \"# of Transactions\",\n    accessor: 'numTransactions'\n  }, {\n    Header: 'Reward Points',\n    accessor: 'points'\n  }];\n  const totalsByColumns = [{\n    Header: 'Customer',\n    accessor: 'name'\n  }, {\n    Header: 'Points',\n    accessor: 'points'\n  }];\n\n  function getIndividualTransactions(row, tranData) {\n    let byCustMonth = _.filter(tranData.pointsPerTransaction, tRow => {\n      return row.original.custid === tRow.custid && row.original.monthNumber === tRow.month;\n    });\n\n    return byCustMonth;\n  }\n\n  useEffect(() => {\n    fetch().then(data => {\n      const results = calculateResults(data);\n      setTransactionData(results);\n    });\n  }, []);\n\n  if (transactionData == null) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Loading...\");\n  }\n\n  return transactionData == null ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Loading...\") : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Points Rewards System Totals by Customer Months\"))), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(ReactTable, {\n    data: transactionData.summaryByCustomer,\n    defaultPageSize: 5,\n    columns: columns,\n    SubComponent: row => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, getIndividualTransactions(row, transactionData).map(tran => {\n        return React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-8\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, \"Transaction Date:\"), \" \", tran.transactionDt, \" - \", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, \"$\"), tran.amt, \" - \", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, \"Points: \"), tran.points)));\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"Points Rewards System Totals By Customer\"))), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(ReactTable, {\n    data: transactionData.totalPointsByCustomer,\n    columns: totalsByColumns,\n    defaultPageSize: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  })))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/sowmyareddykallu/Downloads/reward-points-master/src/App.js"],"names":["React","useState","useEffect","fetch","ReactTable","_","calculateResults","App","transactionData","setTransactionData","columns","Header","accessor","totalsByColumns","getIndividualTransactions","row","tranData","byCustMonth","filter","pointsPerTransaction","tRow","original","custid","monthNumber","month","then","data","results","summaryByCustomer","map","tran","transactionDt","amt","points","totalPointsByCustomer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport fetch from './api/dataService';\nimport ReactTable from 'react-table';\nimport \"./App.css\";\nimport _ from 'lodash';\nimport 'react-table/react-table.css';\nimport calculateResults from './calculateResults'\n\nfunction App() {\n  const [transactionData, setTransactionData] = useState(null);\n\n  const columns = [\n    {\n      Header:'Customer',\n      accessor: 'name'\n    },\n    {\n      Header:'Month',\n      accessor: 'month'\n    },\n    {\n      Header: \"# of Transactions\",\n      accessor: 'numTransactions'\n    },\n    {\n      Header:'Reward Points',\n      accessor: 'points'\n    }\n  ];\n  const totalsByColumns = [\n    {\n      Header:'Customer',\n      accessor: 'name'\n    },\n    {\n      Header:'Points',\n      accessor: 'points'\n    }\n  ]\n\n  function getIndividualTransactions(row,tranData) {\n    let byCustMonth = _.filter(tranData.pointsPerTransaction, (tRow)=>{\n      return row.original.custid === tRow.custid && row.original.monthNumber === tRow.month;\n    });\n    return byCustMonth;\n  }\n\n  useEffect(() => {\n    fetch().then((data)=> {\n      const results = calculateResults(data);\n      setTransactionData(results);\n    });\n  },[]);\n\n  if (transactionData == null) {\n    return <div>Loading...</div>;\n  }\n\n  return transactionData == null ?\n    <div>Loading...</div>\n      :\n    <div>\n\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-10\">\n            <h2>Points Rewards System Totals by Customer Months</h2>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-8\">\n            <ReactTable\n              data={transactionData.summaryByCustomer}\n              defaultPageSize={5}\n              columns={columns}\n              SubComponent={row => {\n                return (\n                  <div>\n\n                      {getIndividualTransactions(row,transactionData).map(tran=>{\n                        return <div className=\"container\">\n                          <div className=\"row\">\n                            <div className=\"col-8\">\n                              <strong>Transaction Date:</strong> {tran.transactionDt} - <strong>$</strong>{tran.amt} - <strong>Points: </strong>{tran.points}\n                            </div>\n                          </div>\n                        </div>\n                      })}\n\n                  </div>\n                )\n              }}\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-10\">\n              <h2>Points Rewards System Totals By Customer</h2>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-8\">\n              <ReactTable\n                data={transactionData.totalPointsByCustomer}\n                columns={totalsByColumns}\n                defaultPageSize={5}\n              />\n            </div>\n          </div>\n        </div>\n    </div>\n  ;\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}